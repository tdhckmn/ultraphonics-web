<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultraphonics Admin</title>

    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/Ultraphonics-Spiral-512.png">
    <link rel="manifest" href="/site.webmanifest">

    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#008c8d">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="UP Admin">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Montserrat', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Apply Montserrat font globally, but exclude Font Awesome icons */
        body, button, input, select, textarea, h1, h2, h3, h4, h5, h6, p, a, span:not([class*="fa-"]), div:not([class*="fa-"]) {
            font-family: 'Montserrat', sans-serif !important;
        }

        /* Custom scrollbar for webkit */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a;
        }
        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }

        /* Modal transition */
        .modal {
            transition: opacity 0.25s ease;
        }
        body.modal-active {
            overflow-x: hidden;
            overflow-y: visible !important;
        }

        /* Tab Navigation */
        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }
        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Install Banner Styles */
        .install-banner {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #008c8d 0%, #00aeb0 100%);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 140, 141, 0.4);
            z-index: 1000;
            max-width: 90%;
            width: 500px;
            display: none;
            animation: slideUp 0.3s ease-out;
        }

        .install-banner.show {
            display: block;
        }

        @keyframes slideUp {
            from {
                transform: translateX(-50%) translateY(100px);
                opacity: 0;
            }
            to {
                transform: translateX(-50%) translateY(0);
                opacity: 1;
            }
        }

        .install-banner-content {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .install-banner-icon {
            font-size: 2rem;
            flex-shrink: 0;
        }

        .install-banner-text {
            flex-grow: 1;
        }

        .install-banner-title {
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 0.25rem;
        }

        .install-banner-subtitle {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .install-banner-buttons {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .install-btn {
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-weight: 600;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
        }

        .install-btn-primary {
            background: white;
            color: #008c8d;
        }

        .install-btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
        }

        .install-btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .install-btn-secondary:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* iOS Instructions Modal */
        .ios-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(4px);
        }

        .ios-modal.show {
            display: flex;
        }

        .ios-modal-content {
            background: #1e1e1e;
            border-radius: 16px;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .ios-modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: white;
        }

        .ios-instructions {
            list-style: none;
            padding: 0;
            margin: 1.5rem 0;
        }

        .ios-instructions li {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            margin-bottom: 1.5rem;
            color: #ccc;
        }

        .ios-step-number {
            background: #008c8d;
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .ios-step-text {
            flex-grow: 1;
            padding-top: 4px;
        }

        .ios-step-icon {
            font-size: 1.2rem;
            margin: 0 0.25rem;
            color: #00ddde;
        }

        /* Auth loading spinner */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .auth-spinner {
            animation: spin 1.5s linear infinite;
        }

        /* Auth loading overlay - matches page background for seamless experience */
        .auth-overlay {
            position: fixed;
            inset: 0;
            background: #0c0a09; /* stone-950 */
            z-index: 200;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.3s ease-out;
        }
        .auth-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }
    </style>
</head>
<body class="bg-stone-950 text-stone-100 min-h-screen flex flex-col font-sans">

    <!-- Navbar -->
    <nav class="bg-stone-900 border-b border-stone-800 shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Band Logo / Admin Header -->
                <div class="flex items-center gap-3">
                    <img src="/assets/images/Ultraphonics-Spiral-512.png" alt="Ultraphonics" class="h-10 w-auto">
                    <span id="header-greeting" class="font-bold text-xl tracking-tight text-white">Admin</span>
                </div>
                <div class="flex items-center gap-3">
                    <a href="https://discord.com/channels/1450501228462215208" target="_blank" rel="noopener noreferrer" class="text-stone-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-stone-800" title="Discord">
                        <i class="fa-brands fa-discord"></i>
                    </a>
                    <button id="openSettings" class="text-stone-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-stone-800" title="Admin Settings">
                        <i class="fa-solid fa-gear"></i>
                    </button>
                    <a href="#" onclick="viewSiteWithCacheBust(event)" class="text-stone-400 hover:text-white transition-colors text-sm font-medium flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-stone-800">
                        <span>View Site</span>
                        <i class="fa-solid fa-arrow-right-from-bracket"></i>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Tab Navigation -->
    <div class="bg-stone-900/50 border-b border-stone-800 sticky top-16 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex gap-1 overflow-x-auto">
                <button class="tab-btn active px-6 py-4 text-sm font-semibold transition-all border-b-2 border-teal-500 text-teal-400" data-tab="performance">
                    <i class="fa-solid fa-music mr-2"></i>Performance
                </button>
                <button class="tab-btn px-6 py-4 text-sm font-semibold transition-all border-b-2 border-transparent text-stone-400 hover:text-stone-200" data-tab="tools">
                    <i class="fa-solid fa-calendar-check mr-2"></i>Booking
                </button>
                <button class="tab-btn px-6 py-4 text-sm font-semibold transition-all border-b-2 border-transparent text-stone-400 hover:text-stone-200" data-tab="marketing">
                    <i class="fa-solid fa-toolbox mr-2"></i>Tools
                </button>
                <button class="tab-btn px-6 py-4 text-sm font-semibold transition-all border-b-2 border-transparent text-stone-400 hover:text-stone-200" data-tab="data">
                    <i class="fa-solid fa-palette mr-2"></i>Branding
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8 max-w-7xl">

        <!-- Performance Tab -->
        <div id="performance" class="tab-content active">
            <h2 class="text-2xl font-bold text-white mb-6">Performance Tools</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Setlist Manager Card -->
                <a href="setlist-manager.html" rel="noopener noreferrer" class="group relative flex flex-col p-6 bg-stone-900 border border-stone-800 rounded-2xl hover:border-amber-500 hover:shadow-2xl hover:shadow-amber-900/20 transition-all duration-300">
                    <div class="flex items-center justify-between mb-4">
                        <div class="p-3 bg-amber-500/10 text-amber-400 rounded-xl group-hover:bg-amber-600 group-hover:text-white transition-all duration-300">
                            <span class="fa-stack text-lg flex items-center justify-center w-[1em] h-[1em]">
                                <i class="fa-solid fa-list-ul fa-stack-1x"></i>
                                <i class="fa-solid fa-music fa-stack-1x" 
                                style="font-size: 0.55em; margin-top: 10px; margin-left: 10px; filter: drop-shadow(1px 1px 0px rgba(0,0,0,0.2));">
                                </i>
                            </span>
                        </div>
                        <i class="fa-solid fa-arrow-right text-stone-700 group-hover:text-amber-400 transition-all"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2 group-hover:text-amber-400 transition-colors">Setlists</h3>
                    <p class="text-stone-400 text-sm leading-relaxed">View and manage setlists</p>
                </a>

                <!-- AbleSet Launcher -->
                <a id="ablesetLink" href="#" target="_blank" rel="noopener noreferrer" class="group relative flex flex-col p-6 bg-stone-900 border border-stone-800 rounded-2xl hover:border-rose-500 hover:shadow-2xl hover:shadow-rose-900/20 transition-all duration-300">
                    <div class="flex items-center justify-between mb-4">
                        <div class="p-3 bg-rose-500/10 text-rose-400 rounded-xl group-hover:bg-rose-600 group-hover:text-white transition-all duration-300">
                            <i class="fa-solid fa-circle-play text-2xl"></i>
                        </div>
                        <i class="fa-solid fa-arrow-right text-stone-700 group-hover:text-rose-400 transition-all"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-2 group-hover:text-rose-400 transition-colors">AbleSet</h3>
                    <p class="text-stone-400 text-sm leading-relaxed">Launch AbleSet performance software</p>
                    <div class="mt-auto pt-4 border-t border-stone-800/50 text-[10px] text-stone-600 font-mono truncate" id="ablesetUrlDisplay">Loading...</div>
                </a>
            </div>
        </div>

        <!-- Booking Tab -->
        <div id="tools" class="tab-content">
            <h2 class="text-2xl font-bold text-white mb-6">Booking & Resources</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Show Manager -->
                <a href="show-manager.html" rel="noopener noreferrer" class="group relative flex flex-col p-6 bg-stone-900 border border-stone-800 rounded-xl hover:border-teal-500 hover:shadow-xl hover:shadow-teal-900/10 transition-all duration-300">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center gap-3">
                            <div class="p-3 bg-teal-500/10 text-teal-400 rounded-lg group-hover:bg-teal-600 group-hover:text-white transition-colors">
                                <i class="fa-solid fa-calendar-days text-xl"></i>
                            </div>
                            <h3 class="text-lg font-bold text-white group-hover:text-teal-400 transition-colors">Show Manager</h3>
                        </div>
                        <i class="fa-solid fa-arrow-right text-stone-700 group-hover:text-teal-500 transition-colors text-sm"></i>
                    </div>
                    <p class="text-stone-400 text-sm">Manage upcoming shows, quotes, and events</p>
                </a>

                <!-- Client Manager (CRM) -->
                <a href="client-manager.html" rel="noopener noreferrer" class="group relative flex flex-col p-6 bg-stone-900 border border-stone-800 rounded-xl hover:border-cyan-500 hover:shadow-xl hover:shadow-cyan-900/10 transition-all duration-300">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center gap-3">
                            <div class="p-3 bg-cyan-500/10 text-cyan-400 rounded-lg group-hover:bg-cyan-600 group-hover:text-white transition-colors">
                                <i class="fa-solid fa-address-book text-xl"></i>
                            </div>
                            <h3 class="text-lg font-bold text-white group-hover:text-cyan-400 transition-colors">Client Manager</h3>
                            <span class="text-[10px] font-bold uppercase tracking-wider bg-cyan-500/20 text-cyan-400 px-2 py-0.5 rounded-full">Beta</span>
                        </div>
                        <i class="fa-solid fa-arrow-right text-stone-700 group-hover:text-cyan-500 transition-colors text-sm"></i>
                    </div>
                    <p class="text-stone-400 text-sm">CRM for venues, planners, leads, and activity logs</p>
                </a>

                <!-- Ultrasheet -->
                <a href="https://docs.google.com/spreadsheets/d/1csJb56jnisEb_37pYMVTOY6kSt6J-HqN5X7IYYRgH20/edit?usp=sharing" target="_blank" rel="external noopener noreferrer" class="group relative flex flex-col p-6 bg-stone-900 border border-stone-800 rounded-xl hover:border-emerald-500 hover:shadow-xl hover:shadow-emerald-900/10 transition-all duration-300">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center gap-3">
                            <div class="p-3 bg-emerald-500/10 text-emerald-400 rounded-lg group-hover:bg-emerald-600 group-hover:text-white transition-colors">
                                <i class="fa-solid fa-file-excel text-xl"></i>
                            </div>
                            <h3 class="text-lg font-bold text-white group-hover:text-emerald-400 transition-colors">Ultrasheet</h3>
                        </div>
                        <i class="fa-solid fa-external-link-alt text-stone-700 group-hover:text-emerald-500 transition-colors text-sm"></i>
                    </div>
                    <p class="text-stone-400 text-sm">Main Google Sheet for band management</p>
                </a>

                <!-- Weddings Flyer -->
                <a href="https://drive.google.com/drive/u/0/folders/1OySLOkCsj3OjSc-RhlZmlAPYN9J-yInD" target="_blank" rel="external noopener noreferrer" class="group relative flex flex-col p-6 bg-stone-900 border border-stone-800 rounded-xl hover:border-pink-500 hover:shadow-xl hover:shadow-pink-900/10 transition-all duration-300">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center gap-3">
                            <div class="p-3 bg-pink-500/10 text-pink-400 rounded-lg group-hover:bg-pink-600 group-hover:text-white transition-colors">
                                <i class="fa-solid fa-heart text-xl"></i>
                            </div>
                            <h3 class="text-lg font-bold text-white group-hover:text-pink-400 transition-colors">Weddings Flyer</h3>
                        </div>
                        <i class="fa-solid fa-external-link-alt text-stone-700 group-hover:text-pink-500 transition-colors text-sm"></i>
                    </div>
                    <p class="text-stone-400 text-sm">Wedding promotion materials</p>
                </a>

                <!-- Event Pricing -->
                <a href="https://drive.google.com/drive/u/0/folders/1ZITYFWoKwoxLbY6j_ejq-Cgxg8unlMk4" target="_blank" rel="external noopener noreferrer" class="group relative flex flex-col p-6 bg-stone-900 border border-stone-800 rounded-xl hover:border-amber-500 hover:shadow-xl hover:shadow-amber-900/10 transition-all duration-300">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center gap-3">
                            <div class="p-3 bg-amber-500/10 text-amber-400 rounded-lg group-hover:bg-amber-600 group-hover:text-white transition-colors">
                                <i class="fa-solid fa-dollar-sign text-xl"></i>
                            </div>
                            <h3 class="text-lg font-bold text-white group-hover:text-amber-400 transition-colors">Event Pricing</h3>
                        </div>
                        <i class="fa-solid fa-external-link-alt text-stone-700 group-hover:text-amber-500 transition-colors text-sm"></i>
                    </div>
                    <p class="text-stone-400 text-sm">Event pricing documents</p>
                </a>

            </div>
        </div>

        <!-- Marketing Tab -->
        <div id="marketing" class="tab-content">
            <h2 class="text-2xl font-bold text-white mb-6">Tools</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Firebase Console -->
                <a href="https://console.firebase.google.com/project/ultraphonics-web/overview" target="_blank" rel="external noopener noreferrer" class="group relative flex flex-col p-6 bg-stone-900 border border-stone-800 rounded-xl hover:border-orange-500 hover:shadow-xl hover:shadow-orange-900/10 transition-all duration-300">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center gap-3">
                            <div class="p-3 bg-orange-500/10 text-orange-400 rounded-lg group-hover:bg-orange-600 group-hover:text-white transition-colors">
                                <i class="fa-solid fa-fire text-xl"></i>
                            </div>
                            <h3 class="text-lg font-bold text-white group-hover:text-orange-400 transition-colors">Firebase</h3>
                        </div>
                        <i class="fa-solid fa-external-link-alt text-stone-700 group-hover:text-orange-500 transition-colors text-sm"></i>
                    </div>
                    <p class="text-stone-400 text-sm">Database, auth, and hosting console</p>
                </a>

                <!-- Google Analytics -->
                <a href="https://analytics.google.com/analytics/web/#/a359545509p494449748/reports/intelligenthome" target="_blank" rel="external noopener noreferrer" class="group relative flex flex-col p-6 bg-stone-900 border border-stone-800 rounded-xl hover:border-amber-500 hover:shadow-xl hover:shadow-amber-900/10 transition-all duration-300">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center gap-3">
                            <div class="p-3 bg-amber-500/10 text-amber-400 rounded-lg group-hover:bg-amber-600 group-hover:text-white transition-colors">
                                <i class="fa-solid fa-chart-line text-xl"></i>
                            </div>
                            <h3 class="text-lg font-bold text-white group-hover:text-amber-400 transition-colors">Analytics</h3>
                        </div>
                        <i class="fa-solid fa-external-link-alt text-stone-700 group-hover:text-amber-500 transition-colors text-sm"></i>
                    </div>
                    <p class="text-stone-400 text-sm">Traffic and visitor statistics</p>
                </a>

                <!-- Discord -->
                <a href="https://discord.com/channels/1450501228462215208" target="_blank" rel="noopener noreferrer" class="group relative flex flex-col p-6 bg-stone-900 border border-stone-800 rounded-xl hover:border-indigo-500 hover:shadow-xl hover:shadow-indigo-900/10 transition-all duration-300">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center gap-3">
                            <div class="p-3 bg-indigo-500/10 text-indigo-400 rounded-lg group-hover:bg-indigo-600 group-hover:text-white transition-colors">
                                <i class="fa-brands fa-discord text-xl"></i>
                            </div>
                            <h3 class="text-lg font-bold text-white group-hover:text-indigo-400 transition-colors">Discord</h3>
                        </div>
                        <i class="fa-solid fa-external-link-alt text-stone-700 group-hover:text-indigo-500 transition-colors text-sm"></i>
                    </div>
                    <p class="text-stone-400 text-sm">Band communication and coordination</p>
                </a>

                <!-- Search Console -->
                <a href="https://search.google.com/search-console" target="_blank" rel="external noopener noreferrer" class="group relative flex flex-col p-6 bg-stone-900 border border-stone-800 rounded-xl hover:border-blue-500 hover:shadow-xl hover:shadow-blue-900/10 transition-all duration-300">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center gap-3">
                            <div class="p-3 bg-blue-500/10 text-blue-400 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors">
                                <i class="fa-brands fa-google text-xl"></i>
                            </div>
                            <h3 class="text-lg font-bold text-white group-hover:text-blue-400 transition-colors">Search Console</h3>
                        </div>
                        <i class="fa-solid fa-external-link-alt text-stone-700 group-hover:text-blue-500 transition-colors text-sm"></i>
                    </div>
                    <p class="text-stone-400 text-sm">Search performance and indexing</p>
                </a>

                <!-- EmailJS -->
                <a href="https://dashboard.emailjs.com/admin" target="_blank" rel="external noopener noreferrer" class="group relative flex flex-col p-6 bg-stone-900 border border-stone-800 rounded-xl hover:border-yellow-500 hover:shadow-xl hover:shadow-yellow-900/10 transition-all duration-300">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center gap-3">
                            <div class="p-3 bg-yellow-500/10 text-yellow-400 rounded-lg group-hover:bg-yellow-600 group-hover:text-white transition-colors">
                                <i class="fa-solid fa-paper-plane text-xl"></i>
                            </div>
                            <h3 class="text-lg font-bold text-white group-hover:text-yellow-400 transition-colors">EmailJS</h3>
                        </div>
                        <i class="fa-solid fa-external-link-alt text-stone-700 group-hover:text-yellow-500 transition-colors text-sm"></i>
                    </div>
                    <p class="text-stone-400 text-sm">Transactional emails and contact forms</p>
                </a>

                <!-- MailerLite -->
                <a href="https://dashboard.mailerlite.com/" target="_blank" rel="external noopener noreferrer" class="group relative flex flex-col p-6 bg-stone-900 border border-stone-800 rounded-xl hover:border-green-500 hover:shadow-xl hover:shadow-green-900/10 transition-all duration-300">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center gap-3">
                            <div class="p-3 bg-green-500/10 text-green-400 rounded-lg group-hover:bg-green-600 group-hover:text-white transition-colors">
                                <i class="fa-solid fa-envelope text-xl"></i>
                            </div>
                            <h3 class="text-lg font-bold text-white group-hover:text-green-400 transition-colors">MailerLite</h3>
                        </div>
                        <i class="fa-solid fa-external-link-alt text-stone-700 group-hover:text-green-500 transition-colors text-sm"></i>
                    </div>
                    <p class="text-stone-400 text-sm">Email marketing and newsletters</p>
                </a>
            </div>
        </div>

        <!-- Branding Tab -->
        <div id="data" class="tab-content">
            <h2 class="text-2xl font-bold text-white mb-6">Branding Resources</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <a href="branding-guide.html" target="_blank" rel="noopener noreferrer" class="flex items-center gap-3 px-5 py-4 rounded-lg bg-stone-900 border border-stone-700 hover:border-teal-400 hover:bg-stone-800 transition-all group">
                        <div class="p-2 bg-teal-500/10 rounded-lg group-hover:bg-teal-500/20 transition-colors">
                            <i class="fa-solid fa-palette text-teal-400 text-lg"></i>
                        </div>
                        <div class="flex-1">
                            <div class="text-white font-semibold text-sm">Brand Guide</div>
                            <div class="text-stone-500 text-xs">Visual identity</div>
                        </div>
                    </a>

                    <a href="branding-dev-reference.html" target="_blank" rel="noopener noreferrer" class="flex items-center gap-3 px-5 py-4 rounded-lg bg-stone-900 border border-stone-700 hover:border-purple-400 hover:bg-stone-800 transition-all group">
                        <div class="p-2 bg-purple-500/10 rounded-lg group-hover:bg-purple-500/20 transition-colors">
                            <i class="fa-solid fa-code text-purple-400 text-lg"></i>
                        </div>
                        <div class="flex-1">
                            <div class="text-white font-semibold text-sm">Developer Reference</div>
                            <div class="text-stone-500 text-xs">Technical specs</div>
                        </div>
                    </a>

                    <a href="ai-branding-prompt.html" target="_blank" rel="noopener noreferrer" class="flex items-center gap-3 px-5 py-4 rounded-lg bg-stone-900 border border-stone-700 hover:border-pink-400 hover:bg-stone-800 transition-all group">
                        <div class="p-2 bg-pink-500/10 rounded-lg group-hover:bg-pink-500/20 transition-colors">
                            <i class="fa-solid fa-robot text-pink-400 text-lg"></i>
                        </div>
                        <div class="flex-1">
                            <div class="text-white font-semibold text-sm">AI Branding Prompt</div>
                            <div class="text-stone-500 text-xs">AI guidelines</div>
                        </div>
                    </a>
            </div>

            <!-- Site Management Section -->
            <div class="mt-8">
                <h3 class="text-sm font-bold text-stone-400 uppercase tracking-wider mb-4">Site Management</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <button id="forceRefreshBtn" class="flex items-center gap-3 px-5 py-4 rounded-lg bg-stone-900 border border-stone-700 hover:border-red-400 hover:bg-stone-800 transition-all group text-left">
                        <div class="p-2 bg-red-500/10 rounded-lg group-hover:bg-red-500/20 transition-colors">
                            <i class="fa-solid fa-rotate text-red-400 text-lg"></i>
                        </div>
                        <div class="flex-1">
                            <div class="text-white font-semibold text-sm">Force Refresh Site</div>
                            <div class="text-stone-500 text-xs">Clear cache & reload latest</div>
                        </div>
                    </button>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-stone-950 border-t border-stone-800 mt-auto">
        <div class="max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8 flex justify-between items-center">
            <p class="text-stone-600 text-xs">
                Ultraphonics Admin Portal
            </p>
            <p class="text-stone-700 text-xs">
                v4.0
            </p>
        </div>
    </footer>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center z-[100] p-4">
        <div class="modal-overlay absolute w-full h-full bg-stone-950/80 backdrop-blur-sm"></div>

        <div class="modal-container bg-stone-900 w-full md:max-w-md mx-auto rounded-xl shadow-2xl border border-stone-700 z-50 overflow-hidden max-h-[90vh] flex flex-col">

            <div class="modal-content py-4 text-left px-6 overflow-y-auto flex-1">
                <!-- Title -->
                <div class="flex justify-between items-center pb-3 border-b border-stone-800">
                    <p class="text-lg font-bold text-white">Admin Settings</p>
                    <div id="closeModal" class="cursor-pointer z-50 text-stone-400 hover:text-white">
                        <i class="fa-solid fa-times"></i>
                    </div>
                </div>

                <!-- Body -->
                <div class="my-5">
                    <!-- User Info (shown when signed in) -->
                    <div id="user-info" class="mb-5 p-4 bg-stone-800 rounded-lg hidden">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-teal-600 rounded-full flex items-center justify-center">
                                <i class="fa-solid fa-user text-white"></i>
                            </div>
                            <div>
                                <div class="text-white font-semibold" id="user-email">Loading...</div>
                                <div class="text-stone-400 text-xs">Signed in</div>
                            </div>
                        </div>
                    </div>

                    <!-- Sign Out Button (shown when signed in) -->
                    <button id="sign-out-btn" class="w-full px-4 py-3 bg-red-600/20 border border-red-600/50 rounded-lg text-red-400 hover:bg-red-600/30 font-semibold transition-colors flex items-center justify-center gap-2 mb-5 hidden">
                        <i class="fa-solid fa-sign-out-alt"></i>
                        <span>Sign Out</span>
                    </button>

                    <!-- AbleSet Settings -->
                    <label class="block text-stone-400 text-xs font-bold mb-2 mt-5" for="ablesetUrl">
                        AbleSet Host URL
                    </label>
                    <input class="appearance-none border border-stone-700 rounded w-full py-3 px-3 text-stone-200 bg-stone-800 leading-tight focus:outline-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"
                        id="ablesetUrlInput" type="text" placeholder="http://192.168.1.243">
                    <p class="text-stone-500 text-xs mt-2 italic">
                        Example: http://192.168.1.243, http://Karls-MacBook.local
                    </p>

                    <!-- AbleSet External Link Option -->
                    <div class="mt-4">
                        <label class="flex items-center gap-3 cursor-pointer">
                            <input type="checkbox" id="ablesetExternalCheckbox" class="w-5 h-5 text-indigo-600 bg-stone-800 border-stone-700 rounded focus:ring-indigo-500 focus:ring-2 cursor-pointer">
                            <div class="flex-1">
                                <span class="text-stone-300 text-sm font-semibold">Open AbleSet externally</span>
                                <p class="text-stone-500 text-xs mt-1">Opens in system browser instead of staying in the app</p>
                            </div>
                        </label>
                    </div>

                    <!-- Cache Buster -->
                    <div class="border-t border-stone-800 mt-5 pt-5">
                        <label class="block text-stone-400 text-xs font-bold mb-2">
                            Refresh Page
                        </label>
                        <button onclick="clearCacheAndReload()" class="w-full px-4 py-3 bg-stone-800 border border-stone-700 rounded-lg text-white hover:bg-stone-700 font-semibold transition-colors flex items-center justify-center gap-2">
                            <i class="fas fa-sync-alt"></i>
                            <span>Clear Cache & Reload</span>
                        </button>
                        <p class="text-stone-500 text-xs mt-2 italic">
                            Use this if you don't see recent updates or changes
                        </p>
                    </div>
                </div>
            </div>

            <!-- Footer - Fixed at bottom -->
            <div class="border-t border-stone-800 bg-stone-900 px-6 py-4 flex justify-end">
                <button id="saveSettings" class="px-6 py-3 bg-indigo-600 rounded-lg text-white hover:bg-indigo-500 font-bold transition-colors">
                    Save Changes
                </button>
            </div>
        </div>
    </div>

    <!-- Install Banner -->
    <div id="installBanner" class="install-banner">
        <div class="install-banner-content">
            <div class="install-banner-icon">
                <i class="fa-solid fa-mobile-screen-button"></i>
            </div>
            <div class="install-banner-text">
                <div class="install-banner-title">Install Ultraphonics Admin</div>
                <div class="install-banner-subtitle">Add to your home screen for quick access</div>
            </div>
        </div>
        <div class="install-banner-buttons">
            <button id="installButton" class="install-btn install-btn-primary">
                <i class="fa-solid fa-download"></i> Install
            </button>
            <button id="dismissInstall" class="install-btn install-btn-secondary">
                Maybe Later
            </button>
        </div>
    </div>

    <!-- iOS Instructions Modal -->
    <div id="iosModal" class="ios-modal">
        <div class="ios-modal-content">
            <div class="ios-modal-title">
                <i class="fa-brands fa-apple"></i> Install on iOS
            </div>
            <p style="color: #aaa; margin-bottom: 1rem;">Follow these steps to add Ultraphonics Admin to your home screen:</p>
            <ol class="ios-instructions">
                <li>
                    <div class="ios-step-number">1</div>
                    <div class="ios-step-text">
                        Tap the <strong>Share</strong> button <i class="fa-solid fa-arrow-up-from-bracket ios-step-icon"></i> at the bottom of Safari
                    </div>
                </li>
                <li>
                    <div class="ios-step-number">2</div>
                    <div class="ios-step-text">
                        Scroll down and tap <strong>"Add to Home Screen"</strong> <i class="fa-solid fa-plus-square ios-step-icon"></i>
                    </div>
                </li>
                <li>
                    <div class="ios-step-number">3</div>
                    <div class="ios-step-text">
                        Tap <strong>"Add"</strong> in the top right corner
                    </div>
                </li>
            </ol>
            <button onclick="closeIOSModal()" class="install-btn install-btn-primary" style="width: 100%; margin-top: 1rem;">
                Got it!
            </button>
        </div>
    </div>

    <!-- Firebase Bundle -->
    <script src="/dist/firebase-bundle.js"></script>

    <!-- Auth Loading Overlay - shows spinning logo while checking auth -->
    <div id="auth-loading" class="auth-overlay">
        <div class="text-center">
            <img src="/assets/images/Ultraphonics-Spiral-192.png" alt="Loading" class="h-16 w-auto mx-auto auth-spinner">
        </div>
    </div>

    <!-- Login Modal - only shown if not authenticated -->
    <div id="login-modal" class="fixed inset-0 bg-stone-950 flex items-center justify-center z-[200] hidden">
        <div id="login-form" class="bg-stone-900 w-full max-w-md mx-auto rounded-xl shadow-2xl border border-stone-700 overflow-hidden m-4">
            <div class="p-6">
                <div class="text-center mb-6">
                    <img src="/assets/images/Ultraphonics-Spiral-192.png" alt="Ultraphonics" class="h-16 w-auto mx-auto mb-4">
                    <h2 class="text-xl font-bold text-white">Admin Login</h2>
                    <p class="text-stone-400 text-sm mt-1">Sign in to access admin tools</p>
                </div>

                <div id="login-error" class="text-red-400 text-sm hidden mb-4 text-center"></div>
                <button id="google-sign-in-btn"
                    class="w-full px-4 py-3 bg-white rounded-lg text-gray-800 hover:bg-gray-100 font-semibold transition-colors flex items-center justify-center gap-3">
                    <svg class="w-5 h-5" viewBox="0 0 24 24">
                        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                    </svg>
                    Sign in with Google
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // --- TAB NAVIGATION ---
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');

        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const targetTab = btn.getAttribute('data-tab');

                // Remove active from all buttons and content
                tabBtns.forEach(b => {
                    b.classList.remove('active', 'border-teal-500', 'text-teal-400');
                    b.classList.add('border-transparent', 'text-stone-400');
                });
                tabContents.forEach(content => {
                    content.classList.remove('active');
                });

                // Add active to clicked button and corresponding content
                btn.classList.add('active', 'border-teal-500', 'text-teal-400');
                btn.classList.remove('border-transparent', 'text-stone-400');
                document.getElementById(targetTab).classList.add('active');
            });
        });

        // --- PWA INSTALL LOGIC ---
        let deferredPrompt;
        const installBanner = document.getElementById('installBanner');
        const installButton = document.getElementById('installButton');
        const dismissButton = document.getElementById('dismissInstall');
        const iosModal = document.getElementById('iosModal');

        // Check if app is already installed or dismissed
        function shouldShowInstallPrompt() {
            if (window.matchMedia('(display-mode: standalone)').matches) {
                return false;
            }
            if (localStorage.getItem('installDismissed') === 'true') {
                return false;
            }
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('installed') === 'true') {
                localStorage.setItem('installDismissed', 'true');
                return false;
            }
            return true;
        }

        // Detect iOS
        function isIOS() {
            return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        }

        // Detect if it's in standalone mode on iOS
        function isInStandaloneMode() {
            return ('standalone' in window.navigator) && (window.navigator.standalone);
        }

        // Show iOS instructions
        function showIOSInstructions() {
            iosModal.classList.add('show');
            localStorage.setItem('installDismissed', 'true');
            installBanner.classList.remove('show');
        }

        // Close iOS modal
        function closeIOSModal() {
            iosModal.classList.remove('show');
        }
        window.closeIOSModal = closeIOSModal;

        // Listen for the beforeinstallprompt event
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            if (shouldShowInstallPrompt()) {
                setTimeout(() => {
                    installBanner.classList.add('show');
                }, 2000);
            }
        });

        // Install button click handler
        installButton.addEventListener('click', async () => {
            if (isIOS()) {
                showIOSInstructions();
            } else if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                if (outcome === 'accepted') {
                    localStorage.setItem('installDismissed', 'true');
                }
                deferredPrompt = null;
                installBanner.classList.remove('show');
            }
        });

        // Dismiss button click handler
        dismissButton.addEventListener('click', () => {
            installBanner.classList.remove('show');
            localStorage.setItem('installDismissed', 'true');
        });

        // Show install prompt on iOS if not already installed
        if (isIOS() && !isInStandaloneMode() && shouldShowInstallPrompt()) {
            setTimeout(() => {
                installBanner.classList.add('show');
            }, 2000);
        }

        // Register service worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/admin/sw.js')
                .then(registration => console.log('Service Worker registered'))
                .catch(error => console.log('Service Worker registration failed:', error));
        }

        // --- MAIN LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            const ablesetLink = document.getElementById('ablesetLink');
            const ablesetUrlDisplay = document.getElementById('ablesetUrlDisplay');
            const ablesetUrlInput = document.getElementById('ablesetUrlInput');
            const ablesetExternalCheckbox = document.getElementById('ablesetExternalCheckbox');

            const openSettingsBtn = document.getElementById('openSettings');
            const closeModalBtn = document.getElementById('closeModal');
            const modalOverlay = document.querySelector('.modal-overlay');
            const modal = document.getElementById('settingsModal');
            const saveSettingsBtn = document.getElementById('saveSettings');

            // Login modal elements
            const loginModal = document.getElementById('login-modal');
            const authLoading = document.getElementById('auth-loading');
            const loginForm = document.getElementById('login-form');
            const googleSignInBtn = document.getElementById('google-sign-in-btn');
            const loginError = document.getElementById('login-error');
            const userInfo = document.getElementById('user-info');
            const userEmail = document.getElementById('user-email');
            const signOutBtn = document.getElementById('sign-out-btn');

            const DEFAULT_ABLESET_URL = 'http://192.168.1.243';

            function updateAblesetLinkBehavior() {
                const isExternal = ablesetExternalCheckbox.checked;
                if (isExternal) {
                    ablesetLink.setAttribute('rel', 'external noopener noreferrer');
                } else {
                    ablesetLink.setAttribute('rel', 'noopener noreferrer');
                }
                localStorage.setItem('ableset_external', isExternal);
            }

            function loadSettings() {
                const storedUrl = localStorage.getItem('ableset_url');
                const url = storedUrl || DEFAULT_ABLESET_URL;
                ablesetLink.href = url;
                ablesetUrlDisplay.textContent = url;
                ablesetUrlInput.value = url;

                // Load AbleSet external checkbox state
                const isExternal = localStorage.getItem('ableset_external') === 'true';
                ablesetExternalCheckbox.checked = isExternal;
                updateAblesetLinkBehavior();
            }

            // Handle AbleSet external checkbox changes
            ablesetExternalCheckbox.addEventListener('change', updateAblesetLinkBehavior);

            function saveSettings() {
                let url = ablesetUrlInput.value.trim();
                if (!url) {
                    url = DEFAULT_ABLESET_URL;
                }
                if (!url.startsWith('http://') && !url.startsWith('https://')) {
                    url = 'http://' + url;
                }
                localStorage.setItem('ableset_url', url);

                loadSettings();
                toggleModal();
            }

            function toggleModal() {
                const body = document.querySelector('body');
                modal.classList.toggle('opacity-0');
                modal.classList.toggle('pointer-events-none');
                body.classList.toggle('modal-active');

                // Update user info when opening settings
                const user = window.FirebaseAuth?.getCurrentUser();
                if (user) {
                    userEmail.textContent = user.email;
                    userInfo.classList.remove('hidden');
                    signOutBtn.classList.remove('hidden');
                } else {
                    userInfo.classList.add('hidden');
                    signOutBtn.classList.add('hidden');
                }
            }

            openSettingsBtn.addEventListener('click', (e) => {
                e.preventDefault();
                toggleModal();
            });

            closeModalBtn.addEventListener('click', toggleModal);
            modalOverlay.addEventListener('click', toggleModal);
            saveSettingsBtn.addEventListener('click', saveSettings);

            // Close on Escape key
            document.onkeydown = function(evt) {
                evt = evt || window.event;
                if (evt.keyCode == 27 && !modal.classList.contains('opacity-0')) {
                    toggleModal();
                }
            };

            // --- Firebase Auth ---
            function showLoginForm() {
                // Hide loading overlay, show login modal
                authLoading.classList.add('fade-out');
                setTimeout(() => {
                    authLoading.style.display = 'none';
                    loginModal.classList.remove('hidden');
                }, 300);
                loginError.classList.add('hidden');
            }

            function hideLoginModal() {
                // Fade out the loading overlay smoothly
                authLoading.classList.add('fade-out');
                setTimeout(() => {
                    authLoading.style.display = 'none';
                }, 300);
                loginModal.classList.add('hidden');
            }

            googleSignInBtn.addEventListener('click', async () => {
                googleSignInBtn.disabled = true;
                googleSignInBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Signing in...';
                loginError.classList.add('hidden');

                try {
                    await window.FirebaseAuth.loginWithGoogle();
                    hideLoginModal();
                } catch (error) {
                    console.error('Login error:', error);
                    loginError.textContent = error.message || 'Sign in failed';
                    loginError.classList.remove('hidden');
                } finally {
                    googleSignInBtn.disabled = false;
                    googleSignInBtn.innerHTML = `
                        <svg class="w-5 h-5" viewBox="0 0 24 24">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Sign in with Google
                    `;
                }
            });

            signOutBtn.addEventListener('click', async () => {
                try {
                    await window.FirebaseAuth.logout();
                    toggleModal();
                } catch (error) {
                    console.error('Sign out error:', error);
                }
            });

            // Auth state listener - show login form only if confirmed not authenticated
            window.FirebaseAuth.onAuthChange((user) => {
                const headerGreeting = document.getElementById('header-greeting');
                if (!user) {
                    // Not authenticated - show login form
                    showLoginForm();
                    headerGreeting.textContent = 'Admin';
                } else {
                    // Authenticated - hide the entire modal and show greeting
                    hideLoginModal();
                    const firstName = user.displayName ? user.displayName.split(' ')[0] : 'there';
                    headerGreeting.textContent = `Hey, ${firstName}!`;
                }
            });

            loadSettings();
        });

        // --- CACHE BUSTER ---
        window.clearCacheAndReload = () => {
            // Add cache busting timestamp to URL and reload
            const url = new URL(window.location);
            url.searchParams.set('cachebust', Date.now());
            window.location.href = url.toString();
        };

        // --- VIEW SITE WITH CACHE BUST ---
        window.viewSiteWithCacheBust = (e) => {
            e.preventDefault();
            // Add cache busting timestamp to the URL
            const cacheBuster = Date.now();
            window.open(`../index.html?qa=true&cachebust=${cacheBuster}`, '_blank', 'noopener,noreferrer');
        };

        // --- FORCE REFRESH FUNCTIONALITY ---
        document.getElementById('forceRefreshBtn').addEventListener('click', async () => {
            const btn = document.getElementById('forceRefreshBtn');
            const btnText = btn.querySelector('.text-white');
            const btnSubtext = btn.querySelector('.text-stone-500');
            const originalText = btnText.textContent;
            const originalSubtext = btnSubtext.textContent;

            // Update button to show loading state
            btnText.textContent = 'Refreshing...';
            btnSubtext.textContent = 'Please wait';
            btn.disabled = true;

            try {
                // Clear all caches using Cache API
                if ('caches' in window) {
                    const cacheNames = await caches.keys();
                    await Promise.all(
                        cacheNames.map(cacheName => caches.delete(cacheName))
                    );
                }

                // Unregister all service workers
                if ('serviceWorker' in navigator) {
                    const registrations = await navigator.serviceWorker.getRegistrations();
                    await Promise.all(
                        registrations.map(registration => registration.unregister())
                    );
                }

                // Show success message
                btnText.textContent = 'Cache Cleared!';
                btnSubtext.textContent = 'Reloading site...';

                // Wait a moment for user to see the message, then reload
                setTimeout(() => {
                    // Force a hard reload of the admin page
                    window.location.href = 'index.html?cachebust=' + Date.now();
                }, 1000);

            } catch (error) {
                console.error('Error during force refresh:', error);
                btnText.textContent = 'Error occurred';
                btnSubtext.textContent = 'Please try again';
                btn.disabled = false;

                // Reset button after 2 seconds
                setTimeout(() => {
                    btnText.textContent = originalText;
                    btnSubtext.textContent = originalSubtext;
                }, 2000);
            }
        });
    </script>

</body>
</html>
