<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultraphonics Admin</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Admin page specific styles */
        body { text-align: left; }
        main { max-width: 800px; margin: 2rem auto; }
        .admin-section { background-color: #282828; padding: 2rem; border-radius: 8px; margin-top: 2rem; }
        .admin-section h2 { margin-top: 0; border-bottom: 1px solid var(--color-spotify-green); padding-bottom: 1rem; }
        input, textarea { width: 100%; padding: 12px; margin-bottom: 1.5rem; border-radius: 5px; border: 1px solid #555; background-color: #333; color: #fff; font-size: 1rem; box-sizing: border-box; }
        label { display: block; margin-bottom: 0.5rem; font-weight: bold; }
        textarea { min-height: 120px; resize: vertical; }
        .button.back-button { background-color: #555; margin-right: 1rem; }
        .button.back-button:hover { background-color: #777; }
        
        #login-form { margin-top: 2rem; } /* Adds padding to login form */
        #dashboard-tiles { grid-template-columns: 1fr !important; margin-top: 2rem; }

        /* Setlist specific styles */
        .setlist-output-page { display: flex; gap: 1rem; }
        #setlist-output { margin-top: 1rem; }
        .setlist-column { flex: 1; min-width: 200px; padding: 1rem; background-color: #333; border-radius: 5px; }
        .setlist-column h3 { margin-top: 0; color: var(--color-spotify-green); }
        .setlist-column ul { list-style: none; padding: 0; }
        .setlist-column li { padding: 0.25rem 0; }
        .setlist-note { font-style: italic; color: #aaa; padding-left: 1.5em; }

        @media print {
            body * { visibility: hidden; }
            #setlist-output-container, #setlist-output-container * { visibility: visible; }
            body, html { margin: 0; padding: 0; }
            #setlist-output-container { position: absolute; left: 0; top: 0; width: 100%; font-size: 10pt; }
            #setlist-output-container > h3, #setlist-controls { display: none; }
            .print-page { page-break-after: always; }
            .admin-section { background-color: #fff; color: #000; box-shadow: none; border: none; }
            .setlist-column { border: 1px solid #ccc; background-color: #fff; }
            .setlist-column h3 { color: #000; }
            .setlist-note { color: #555; }
        }
    </style>
</head>
<body>
    <main>
        <section id="login-section" class="admin-section">
            <h2>Admin Login</h2>
            <form id="login-form"><label for="password">Password</label><input type="password" id="password" required><button type="submit" class="button">Login</button></form>
        </section>

        <section id="dashboard-section" class="admin-section" style="display: none;">
            <h2>Admin Dashboard</h2>
            <div id="dashboard-tiles" class="services-grid">
                <li id="email-generator-tile" class="service-card">Generate Email for Client</li>
                <li id="setlist-generator-tile" class="service-card">Generate Printable Setlist</li>
            </div>
        </section>

        <section id="generator-form-section" class="admin-section" style="display: none;">
            <h2>Generate Email</h2>
            <form id="generator-form">
                <label for="client-name">Client Name</label><input type="text" id="client-name" placeholder="e.g., John Smith" required>
                <label for="casual-name">Casual Intro Name</label><input type="text" id="casual-name" placeholder="e.g., Alex" required>
                <label for="signature-name">Full Name (for signature)</label><input type="text" id="signature-name" placeholder="e.g., Alex Johnson" required>
                <label for="your-phone">Your Phone Number</label><input type="tel" id="your-phone" placeholder="e.g., (555) 123-4567" required>
                <label for="message">Available Dates</label><textarea id="message" required></textarea>
                <div>
                    <button type="button" id="back-to-dashboard-from-email-btn" class="button back-button">Back</button>
                    <button type="submit" class="button">Generate Email</button>
                </div>
            </form>
        </section>

        <section id="setlist-section" class="admin-section" style="display: none;">
            <h2>Generate Setlist</h2>
            <button type="button" id="back-to-dashboard-from-setlist-btn-main" class="button back-button">Back to Dashboard</button>
            <hr style="border-color: #555; margin: 2rem 0;">
            <p><strong>Step 1:</strong> Click the link below to open the Trello data in a new tab. Save the file to your computer.</p>
            <a href="https://trello.com/b/oatz1C1E.json" target="_blank" class="button">Download Trello JSON</a>
            <p style="margin-top: 2rem;"><strong>Step 2:</strong> Click the button below to upload the `.json` file you just saved.</p>
            <label for="json-upload-input" class="button">Upload JSON File</label>
            <input type="file" id="json-upload-input" accept=".json" style="display: none;">

            <div id="setlist-output-container" style="display:none; margin-top: 2rem;">
                <h3>Setlist Preview</h3>
                <div id="setlist-controls">
                    <button type="button" id="back-to-dashboard-from-setlist-preview-btn" class="button back-button">Back to Dashboard</button>
                    <button type="button" id="print-btn" class="button">Print</button>
                </div>
                <div id="setlist-output"></div>
            </div>
        </section>
    </main>
    <script src="admin.js"></script>
</body>
</html>